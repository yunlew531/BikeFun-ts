{"version":3,"sources":["webpack:///./src/components/Explore/RoutesSearchResult.vue?4d71","webpack:///./src/mixins/handleRandom.ts","webpack:///./src/components/Explore/RoutesSearchResult.vue","webpack:///./src/components/Explore/RoutesSearchResult.vue?1c48"],"names":["getRandom","max","Math","floor","random","getRandomArr","length","maxNum","arr","includes","push","_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","key","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","props","bikeRoutes","type","Array","default","emits","setup","__props","Pagination","router","photos","getPhotos","api","data","value","console","dir","pages","total","current","immediate","sortType","currentDisplay","minIdx","maxIdx","randomArr","filter","bikeRoute","idx","forEach","photo","exploreRef","goPage","page","scrollIntoView","behavior","_ctx","_cache","ref","_value","_refs","onClick","$event","RouteName","City","src","alt","CyclingLength","toFixed","distance","Town","onChange","__exports__"],"mappings":"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","file":"js/chunk-67cf964a.5738cbb2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RoutesSearchResult.vue?vue&type=style&index=0&id=0da0e8e8&lang=scss&scoped=true\"","export const getRandom = (max: number): number => Math.floor(Math.random() * max)\n\nexport const getRandomArr = (length: number, maxNum: number): number[] => {\n  const arr: number[] = []\n  while (arr.length <= length) {\n    const random = getRandom(maxNum)\n\n    if (!arr.includes(random)) {\n      arr.push(random)\n    }\n  }\n  return arr\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0da0e8e8\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"flex\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"border-l-4 border-yellow-100 pl-4 py-0.5 transform -translate-x-4 mb-8 mr-auto\" }, [\n  /*#__PURE__*/_createElementVNode(\"h3\", { class: \"text-yellow-100 text-2xl font-bold mb-2\" }, \"搜尋結果\"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"text-sm text-dark-200\" }, \"找到離您最近的自行車車道\")\n], -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons mr-1 text-yellow-100\" }, \"import_export\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"排序：由近到遠\", -1))\nconst _hoisted_5 = [\n  _hoisted_3,\n  _hoisted_4\n]\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons mr-1 text-yellow-100\" }, \"import_export\", -1))\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"排序：由遠到近\", -1))\nconst _hoisted_8 = [\n  _hoisted_6,\n  _hoisted_7\n]\nconst _hoisted_9 = { class: \"grid grid-cols-3 gap-7\" }\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = { class: \"overflow-hidden\" }\nconst _hoisted_12 = [\"src\"]\nconst _hoisted_13 = { class: \"flex-grow flex items-stretch p-4\" }\nconst _hoisted_14 = { class: \"flex flex-col mr-auto\" }\nconst _hoisted_15 = { class: \"text-dark-200 mb-3\" }\nconst _hoisted_16 = {\n  key: 0,\n  class: \"block text-green-100 text-sm mt-auto\"\n}\nconst _hoisted_17 = { class: \"flex flex-col justify-between items-end text-right ml-1\" }\nconst _hoisted_18 = { class: \"distance block text-gray-200 text-sm mb-3\" }\nconst _hoisted_19 = { class: \"location flex items-center text-green-100 text-sm\" }\nconst _hoisted_20 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons mr-1 text-xl text-yellow-100\" }, \"room\", -1))\nconst _hoisted_21 = { class: \"flex justify-end mb-16\" }\n\nimport { ref, defineAsyncComponent, PropType, watch, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { apiGetPhotos } from '@/api/index'\nimport { getRandomArr } from '@/mixins/handleRandom'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n  bikeRoutes: {\n    type: Array as PropType<BikeRoute[]>,\n    default: () => ([])\n  }\n},\n  emits: ['sort'],\n  setup(__props, { emit: emits }) {\n\nconst props = __props\n\nconst Pagination = defineAsyncComponent(() => import('@/components/Pagination.vue'))\n\n\n\nconst router = useRouter()\nconst photos = ref([])\nconst getPhotos = async () => {\n  try {\n    const { data } = await apiGetPhotos()\n    photos.value = data\n  } catch (err) { console.dir(err) }\n}\ngetPhotos()\nconst pages = ref<Pages>({})\nwatch(() => props.bikeRoutes, (value: BikeRoute[]) => {\n  let total = Math.floor(value.length / 12) + 1\n  total = value.length % 12 === 0 ? total - 1 : total\n  pages.value = {\n    total,\n    current: 1\n  }\n}, { immediate: true })\n\nconst sortType = ref<sortType>('nearToFar')\n\n\n\nwatch(sortType, (value) => {\n  if (value === 'nearToFar') {\n    emits('sort', 'nearToFar')\n  } else if (value === 'farToNear') {\n    emits('sort', 'farToNear')\n  }\n})\n\nconst currentDisplay = computed(() => {\n  if (!pages.value.current || !photos.value.length) return\n  const minIdx = (pages.value.current - 1) * 12\n  const maxIdx = pages.value.current * 12 - 1\n  const randomArr = getRandomArr(12, photos.value.length)\n  const arr = props.bikeRoutes.filter((bikeRoute, idx) => idx >= minIdx && idx <= maxIdx)\n  arr.forEach((bikeRoute, idx) => {\n    arr[idx].photo = photos.value[randomArr[idx]]\n  })\n  return arr\n})\n\nconst exploreRef = ref<HTMLElement>()\nconst goPage = (page: number) => {\n  pages.value.current = page\n  exploreRef.value!.scrollIntoView({ behavior: 'smooth' })\n}\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"section\", {\n      ref: (_value, _refs) => {\n        _refs['exploreRef'] = _value\n        exploreRef.value = _value\n      },\n      class: \"explore-result border border-gray-500 rounded-3xl px-12 pt-6 pb-8 mb-16\"\n    }, [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _hoisted_2,\n        _createElementVNode(\"div\", null, [\n          _withDirectives(_createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"sort-btn flex items-center px-4 py-3 rounded-3xl\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (sortType.value = 'farToNear'))\n          }, _hoisted_5, 512), [\n            [_vShow, sortType.value === 'nearToFar']\n          ]),\n          _withDirectives(_createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"sort-btn flex items-center px-4 py-3 rounded-3xl\",\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (sortType.value = 'nearToFar'))\n          }, _hoisted_8, 512), [\n            [_vShow, sortType.value === 'farToNear']\n          ])\n        ])\n      ]),\n      _createElementVNode(\"ul\", _hoisted_9, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(currentDisplay), (bikeRoute, key) => {\n          return (_openBlock(), _createElementBlock(\"li\", {\n            key: `${bikeRoute.RouteName}-${key}`,\n            class: \"flex flex-col group rounded-3xl overflow-hidden border border-gray cursor-pointer\",\n            onClick: ($event: any) => (_unref(router).push(`/explore/${bikeRoute.RouteName}?_city=${bikeRoute.City}`))\n          }, [\n            _createElementVNode(\"div\", _hoisted_11, [\n              _createElementVNode(\"img\", {\n                src: bikeRoute.photo,\n                alt: \"漁人碼頭\",\n                class: \"h-48 w-full duration-300 transform group-hover:scale-105\"\n              }, null, 8, _hoisted_12)\n            ]),\n            _createElementVNode(\"div\", _hoisted_13, [\n              _createElementVNode(\"div\", _hoisted_14, [\n                _createElementVNode(\"h2\", _hoisted_15, _toDisplayString(bikeRoute.RouteName), 1),\n                (bikeRoute.CyclingLength)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16, \" 雙向 \" + _toDisplayString((bikeRoute.CyclingLength / 1000).toFixed(1)) + \" 公里 \", 1))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _createElementVNode(\"div\", _hoisted_17, [\n                _createElementVNode(\"span\", _hoisted_18, \"距離您 \" + _toDisplayString(bikeRoute.distance) + \" 公里\", 1),\n                _createElementVNode(\"span\", _hoisted_19, [\n                  _hoisted_20,\n                  _createElementVNode(\"span\", null, _toDisplayString(bikeRoute.City) + _toDisplayString(bikeRoute.Town), 1)\n                ])\n              ])\n            ])\n          ], 8, _hoisted_10))\n        }), 128))\n      ])\n    ], 512),\n    _createElementVNode(\"div\", _hoisted_21, [\n      _withDirectives(_createVNode(_unref(Pagination), {\n        pages: pages.value,\n        onChange: goPage\n      }, null, 8, [\"pages\"]), [\n        [_vShow, pages.value.total]\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./RoutesSearchResult.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./RoutesSearchResult.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./RoutesSearchResult.vue?vue&type=style&index=0&id=0da0e8e8&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Desktop/project/BikeFun-ts/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0da0e8e8\"]])\n\nexport default __exports__"],"sourceRoot":""}