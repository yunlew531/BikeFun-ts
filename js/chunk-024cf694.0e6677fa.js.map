{"version":3,"sources":["webpack:///./src/components/Station/StationList.vue?b20e","webpack:///./src/components/Station/StationList.vue","webpack:///./src/components/Station/StationList.vue?7bbe"],"names":["_withScopeId","n","_hoisted_1","_hoisted_2","class","_hoisted_3","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","props","stations","type","Array","default","required","currentStation","Object","emits","setup","__props","scrollbar","stationListRef","value","autoHide","stationRefs","formatName","name","split","formatBikeVer","match","toggleCurrentStation","station","StationUID","v","currentOpenIdx","findIndex","offsetTop","getScrollElement","scrollTo","top","behavior","_ctx","_cache","ref","_value","_refs","el","push","onClick","$event","StationName","Zh_tw","AvailableReturnBikes","AvailableRentBikes","ServiceStatus","StationAddress","__exports__"],"mappings":"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","file":"js/chunk-024cf694.0e6677fa.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./StationList.vue?vue&type=style&index=0&id=76950085&lang=scss&scoped=true\"","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-76950085\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"onClick\"]\nconst _hoisted_2 = { class: \"text-dark-200 font-bold mr-auto\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"text-sm text-red-500\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"text-sm text-yellow-100\"\n}\nconst _hoisted_5 = {\n  key: 2,\n  class: \"text-sm text-green-100\"\n}\nconst _hoisted_6 = {\n  key: 3,\n  class: \"text-sm text-green-100\"\n}\nconst _hoisted_7 = { class: \"flex\" }\nconst _hoisted_8 = { class: \"mr-auto mb-6\" }\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"可租借車數：\")\nconst _hoisted_10 = { class: \"text-purple-100\" }\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"可歸還車數：\")\nconst _hoisted_12 = { class: \"text-purple-100\" }\nconst _hoisted_13 = { class: \"text-sm text-dark-200\" }\nconst _hoisted_14 = { class: \"flex items-center text-green-100 mb-4\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"material-icons mr-1 text-yellow-100\" }, \"room\", -1))\nconst _hoisted_16 = { class: \"text-dark-200\" }\n\nimport { nextTick, onMounted, PropType, ref, watch } from 'vue'\nimport SimpleBar from 'simplebar'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  props: {\n  stations: {\n    type: Array as PropType<BikeStation[]>,\n    default: () => ([]),\n    required: true\n  },\n  currentStation: {\n    type: Object as PropType<BikeStation>,\n    default: () => ({}),\n    required: true\n  }\n},\n  emits: ['updateCurrentStation'],\n  setup(__props, { emit: emits }) {\n\nconst props = __props\n\n\n\nlet scrollbar: SimpleBar\nconst stationListRef = ref<HTMLElement>()\nonMounted(() => {\n  scrollbar = new SimpleBar(stationListRef.value!, { autoHide: false })\n})\n\nconst stationRefs = ref<HTMLElement[]>([])\nconst formatName = (name: string) => name.split('_')[1] || name\nconst formatBikeVer = (name: string) => name.split('_')[0].match('YouBike') ? name.split('_')[0] : ''\n\n\nconst toggleCurrentStation = (station: BikeStation) => {\n  if (props.currentStation.StationUID === station.StationUID) {\n    emits('updateCurrentStation', {})\n  } else {\n    emits('updateCurrentStation', station)\n  }\n}\n\nwatch(() => props.currentStation, (v) => {\n  const currentOpenIdx = props.stations.findIndex(station => station.StationUID === v.StationUID)\n  nextTick(() => {\n    const offsetTop = stationRefs.value[currentOpenIdx].offsetTop\n    if (offsetTop) {\n      scrollbar.getScrollElement().scrollTo({ top: offsetTop, behavior: 'smooth' })\n    }\n  })\n})\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"ul\", {\n      ref: (_value, _refs) => {\n        _refs['stationListRef'] = _value\n        stationListRef.value = _value\n      },\n      class: \"station-list\"\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.stations, (station) => {\n        return (_openBlock(), _createElementBlock(\"li\", {\n          ref: (el) => stationRefs.value.push(el),\n          key: station.StationUID,\n          class: \"border-b border-gray-100 mr-3 -mb-px\"\n        }, [\n          _createElementVNode(\"div\", {\n            class: _normalizeClass([\"h-16 flex justify-center items-center cursor-pointer px-5 hover:bg-gray-50\", { 'bg-yellow-200 shadow hover:bg-yellow-200': __props.currentStation.StationUID === station.StationUID }]),\n            onClick: ($event: any) => (toggleCurrentStation(station))\n          }, [\n            _createElementVNode(\"h2\", _hoisted_2, _toDisplayString(formatName(station.StationName?.Zh_tw)), 1),\n            (station.AvailableReturnBikes === 0)\n              ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"車位滿載\"))\n              : (station.AvailableRentBikes === 0)\n                ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"無車可借\"))\n                : (station.ServiceStatus === 0)\n                  ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \"停止營運\"))\n                  : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"正常營運\"))\n          ], 10, _hoisted_1),\n          _withDirectives(_createElementVNode(\"div\", {\n            class: _normalizeClass([\"px-5 py-5\", { 'bg-white-200': __props.currentStation.StationUID === station.StationUID }])\n          }, [\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createElementVNode(\"div\", _hoisted_8, [\n                _createElementVNode(\"p\", null, [\n                  _hoisted_9,\n                  _createElementVNode(\"span\", _hoisted_10, _toDisplayString(station.AvailableRentBikes), 1)\n                ]),\n                _createElementVNode(\"p\", null, [\n                  _hoisted_11,\n                  _createElementVNode(\"span\", _hoisted_12, _toDisplayString(station.AvailableReturnBikes), 1)\n                ])\n              ]),\n              _createElementVNode(\"span\", _hoisted_13, _toDisplayString(formatBikeVer(station.StationName?.Zh_tw)), 1)\n            ]),\n            _createElementVNode(\"p\", _hoisted_14, [\n              _hoisted_15,\n              _createElementVNode(\"span\", _hoisted_16, _toDisplayString(station.StationAddress?.Zh_tw), 1)\n            ])\n          ], 2), [\n            [_vShow, __props.currentStation.StationUID === station.StationUID]\n          ])\n        ], 512))\n      }), 128))\n    ], 512)\n  ]))\n}\n}\n\n})","import script from \"./StationList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./StationList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./StationList.vue?vue&type=style&index=0&id=76950085&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/daniel/Desktop/project/BikeFun-ts/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-76950085\"]])\n\nexport default __exports__"],"sourceRoot":""}